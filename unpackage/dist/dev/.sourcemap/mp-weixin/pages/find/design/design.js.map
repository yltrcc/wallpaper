{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/find/design/design.vue?eb2d","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/find/design/design.vue?382b","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/find/design/design.vue?c044","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/find/design/design.vue?b66d","uni-app:///pages/find/design/design.vue","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/find/design/design.vue?d8ff","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/find/design/design.vue?9b8d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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AEA,WAFA,EAEA;AACA;AACA;AACA;AACA,gDADA;AAEA;AACA;AACA;AACA,2BALA;;AAOA,uBATA,MASA;AACA;AACA;AACA,uCADA;AAEA,iDAFA;AAGA,2CAHA;;AAKA;AACA,qBApBA;;AAsBA;AACA,eA9BA;;AAgCA;AACA;AACA,SA7CA;;AA+CA,KA7JA;AA8JA,WA9JA,qBA8JA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA,KAtKA;AAuKA,UAvKA,oBAuKA;AACA;AACA;AACA;;;;;;;AAOA;AACA,6CADA;;;AAIA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA,MAKA;AACA;AACA;AACA;AACA,SAXA;AAYA;AACA,KAxMA;AAyMA,gBAzMA,0BAyMA;AACA,oBADA,GACA,MADA;AAEA;AACA,4BADA;AAEA,qCAFA,IAFA;;AAMA;AACA,yCADA;AAEA;AACA,gDADA,EAFA,GANA,SAMA,IANA;;;AAYA;AACA;AACA;AACA;AACA;AACA,iBAjBA;AAkBA,KA3NA;AA4NA,WA5NA,qBA4NA;AACA,oBADA,GACA,MADA;AAEA;AACA,qCADA;AAEA;AACA,uCADA;AAEA,4CAFA,EAFA,GAFA,SAEA,MAFA;;;AASA,yDATA;AAUA,KAtOA;AAuOA,aAvOA,uBAuOA;AACA;AACA,KAzOA;AA0OA,YA1OA,sBA0OA;AACA;AACA;AACA,KA7OA;AA8OA,aA9OA,qBA8OA,CA9OA,EA8OA,CA9OA,EA8OA;AACA;AACA;AACA;AACA;AACA,gCALA,CAKA;AACA;AACA,wCAPA,CAOA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7QA,EAxCA;;AAuTA,mBAvTA,6BAuTA,GAvTA,EAuTA;AACA;AACA;AACA;AACA,4BADA;AAEA,2DAFA;;AAIA,GA9TA;AA+TA,iBA/TA,2BA+TA,GA/TA,EA+TA;AACA;AACA,4BADA;AAEA,gCAFA;;AAIA,GApUA,E;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAquC,CAAgB,ksCAAG,EAAC,C;;;;;;;;;;;ACAzvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/find/design/design.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/find/design/design.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./design.vue?vue&type=template&id=1b81c512&\"\nvar renderjs\nimport script from \"./design.vue?vue&type=script&lang=js&\"\nexport * from \"./design.vue?vue&type=script&lang=js&\"\nimport style0 from \"./design.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/find/design/design.vue\"\nexport default component.exports","export * from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./design.vue?vue&type=template&id=1b81c512&\"","var components\ntry {\n  components = {\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.designShow = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.signShow = false\n    }\n\n    _vm.e2 = function($event) {\n      _vm.adShow = false\n    }\n\n    _vm.e3 = function($event) {\n      _vm.adShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./design.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./design.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"\" v-show=\"!loadShow\">\n\t\t\t<view class=\"canvas\"><canvas :style=\"[{ width: w*2 + 'px' }, { height: h*2 + 'px' }]\" canvas-id=\"firstCanvas\" id=\"firstCanvas\"></canvas></view>\n\t\t\t<view class=\"\">\n\t\t\t\t<image :src=\"canvasUrl\" mode=\"aspectFill\" style=\"position: absolute;top: 0;left: 0;\" :style=\"[{width: w+'px'},{height: h+'px'}]\"></image>\n\t\t\t\t<image :src=\"designList[designCurrent].image\" :style=\"[{width: w+'px'},{height: w+'px'}]\" style=\"position: absolute;top: 0;left: 0;\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"mould\" v-show=\"!viewShow\">\n\t\t\t\t<view class=\"safe-area-inset-bottom\">\n\t\t\t\t\t<scroll-view scroll-x style=\"height: 120rpx;padding: 15rpx 0;\">\n\t\t\t\t\t\t<view class=\"u-flex u-row-left u-col-center\">\n\t\t\t\t\t\t\t<view class=\"\">ㅤ</view>\n\t\t\t\t\t\t\t<view class=\"tab\" :class=\"designCurrent === index ? 'tab_active' : ''\" v-for=\"(item, index) in designList\" :key=\"index\" @click=\"cheekClick(index)\">\n\t\t\t\t\t\t\t\t<image :src=\"item.image\"></image>\n\t\t\t\t\t\t\t\t<!-- <image\n\t\t\t\t\t\t\t\t\tv-if=\"item.mode === 1\"\n\t\t\t\t\t\t\t\t\tsrc=\"/static/icon/jifen.png\"\n\t\t\t\t\t\t\t\t\tstyle=\"position: absolute;top: 36rpx;left: 36rpx;width: 40rpx;height: 40rpx;border: none;\"\n\t\t\t\t\t\t\t\t></image> -->\n\t\t\t\t\t\t\t\t<view v-if=\"item.mode === 1\" class=\"shoufei u-flex u-row-center u-col-center\">\n\t\t\t\t\t\t\t\t\t<text class=\"u-font-13\">{{designIntegral}}</text>积分\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"\">ㅤ</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"handle u-m-20\" v-show=\"!viewShow\">\n\t\t\t\t<view class=\"safe-area-inset-bottom\">\n\t\t\t\t\t<view class=\"u-flex u-row-around u-col-center\" style=\"background-color: rgba(73, 69, 84, 0.3);border-radius: 80rpx;padding: 10rpx 20rpx;\">\n\t\t\t\t\t\t<view class=\"u-text-center\" @click=\"backClick\">\n\t\t\t\t\t\t\t<u-icon class=\"\" name=\"/static/icon/back.png\" size=\"44\"></u-icon>\n\t\t\t\t\t\t\t<view class=\"u-font-13\">返回</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"u-text-center\" @click=\"chooseClick\">\n\t\t\t\t\t\t\t<u-icon class=\"\" name=\"/static/icon/cate.png\" size=\"44\"></u-icon>\n\t\t\t\t\t\t\t<view class=\"u-font-13\">相册</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"u-text-center\" @click=\"canvasCont\">\n\t\t\t\t\t\t\t<u-icon class=\"\" name=\"/static/icon/duihuan.png\" size=\"44\"></u-icon>\n\t\t\t\t\t\t\t<view class=\"u-font-13\">保存</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"u-text-center\" @click=\"viewCont\">\n\t\t\t\t\t\t\t<u-icon class=\"\" name=\"/static/icon/view.png\" size=\"44\"></u-icon>\n\t\t\t\t\t\t\t<view class=\"u-font-13\">预览</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"u-text-center\" style=\"position: relative;\">\n\t\t\t\t\t\t\t<u-icon class=\"\" name=\"/static/icon/shares.png\" size=\"44\"></u-icon>\n\t\t\t\t\t\t\t<view class=\"u-font-13\">分享</view>\n\t\t\t\t\t\t\t<button open-type=\"share\" style=\"position: absolute;top: 0;left: 0;width: 100%;height: 100%;opacity: 0;\"></button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"\" v-show=\"viewShow\" @click=\"viewCont\" style=\"position: fixed;bottom: 160rpx;right: 20rpx;background-color: rgba(0,0,0,0.3);padding: 10rpx;border-radius: 12rpx;\">\n\t\t\t\t<image src=\"/static/icon/view.png\" style=\"width: 60rpx;height: 60rpx;display: block;\"></image>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"loading_page\" v-show=\"loadShow\"><image src=\"/static/loading/loading.gif\"></image></view>\n\n\t\t<models v-if=\"designShow\" :title=\"designTitle\" :btnText=\"'看广告领 ' + adIntegral + ' 积分'\" :authorize=\"false\" @close=\"designShow = false\" @save=\"adClick\"></models>\n\n\t\t<models v-if=\"signShow\" :authorize=\"false\" :title=\"signTitle\" btnText=\"知道了\" closeText=\" \" @save=\"signShow = false\"></models>\n\n\t\t<models\n\t\t\tv-show=\"adShow\"\n\t\t\t:authorize=\"false\"\n\t\t\t:ad=\"true\"\n\t\t\ttitle=\"已成功保存到相册，别忘了分享给朋友哦！\"\n\t\t\tbtnText=\"分享给好友\"\n\t\t\tcloseText=\"暂时不用\"\n\t\t\t@save=\"adShow = false\"\n\t\t\t@close=\"adShow = false\"\n\t\t></models>\n\t</view>\n</template>\n\n<script>\nlet videoAd = null;\nlet context = null;\nimport models from '@/components/model/model.vue'\nvar systemInfo = uni.getSystemInfoSync()\nexport default {\n\tcomponents: {\n\t\tmodels\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tw: systemInfo.screenWidth,\n\t\t\th: systemInfo.screenHeight,\n\t\t\tloadShow: true,\n\n\t\t\tadIntegral: 0,\n\t\t\tsignShow: false,\n\t\t\tsignTitle: '',\n\n\t\t\tdesignIntegral: 0,\n\t\t\tdesignShow: false,\n\t\t\tdesignTitle: '',\n\t\t\tadShow: false,\n\t\t\tcanvasUrl: 'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-7883b0be-568b-405c-83d4-6d4fe8b4df7d/9e2eacac-e3b0-4ac8-8752-d864f1d19ae9.jpg',\n\t\t\tsaveUrl: '',\n\t\t\tdesignList: [],\n\t\t\tdesignCurrent: 0,\n\t\t\t\n\t\t\t// 预览\n\t\t\tviewShow: false\n\t\t}\n\t},\n\tonReady() {\n\t\tlet that = this\n\t\tcontext = uni.createCanvasContext('firstCanvas')\n\t\tcontext.width = that.w*2\n\t\tcontext.height = that.h*2\n\t},\n\tasync onLoad() {\n\t\tlet that = this\n\t\tawait that.getDesign()\n\t\tawait that.getConfig()\n\t\tthat.adLoad()\n\t\tthat.loadShow = false\n\t},\n\tmethods: {\n\t\tasync getDesign(){\n\t\t\tvar that = this\n\t\t\tlet list = await uniCloud.callFunction({\n\t\t\t\tname: 'query_list',\n\t\t\t\tdata: {\n\t\t\t\t\tdbName: \"wx_design\",\n\t\t\t\t\torder: {\n\t\t\t\t\t\tname: 'time',\n\t\t\t\t\t\ttype: 'asc'\n\t\t\t\t\t},\n\t\t\t\t\tpageIndex: 1,\n\t\t\t\t\tpageSize: 200\n\t\t\t\t},\n\t\t\t})\n\t\t\tthat.designList = list.result.data\n\t\t},\n\t\tasync getConfig(){\n\t\t\tlet that = this\n\t\t\tlet config = await uniCloud.callFunction({\n\t\t\t\tname: 'config_map',\n\t\t\t\tdata: {\n\t\t\t\t\t'keys': ['designIntegral', 'adIntegral']\n\t\t\t\t},\n\t\t\t})\n\t\t\tif(config.result.success) {\n\t\t\t\tthat.designIntegral = parseInt(config.result.data[0])\n\t\t\t\tthat.adIntegral = parseInt(config.result.data[1])\n\t\t\t}\n\t\t},\n\t\tcheekClick(index){\n\t\t\tvar that = this\n\t\t\tif(that.designCurrent === index) return\n\t\t\tthat.designCurrent = index\n\t\t},\n\t\tchooseClick(){\n\t\t\tvar that = this\n\t\t\tuni.chooseImage({\n\t\t\t    count: 1, //默认9\n\t\t\t    sizeType: ['original'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t    sourceType: ['album'], //从相册选择\n\t\t\t    success: function (res) {\n\t\t\t\t\tconsole.log(res)\n\t\t\t        that.canvasUrl = res.tempFilePaths[0]\n\t\t\t    }\n\t\t\t});\n\t\t},\n\t\tasync canvasCont(){\n\t\t\tvar that = this\n\t\t\tif(that.designIntegral > 0 && that.designList[that.designCurrent].mode === 1){\n\t\t\t\tvar integral = that.vuex_user.integral\n\t\t\t\tif(integral < that.designIntegral){\n\t\t\t\t\tthat.designShow = true\n\t\t\t\t\tthat.designTitle = \"<p style='font-weight: 550;font-size: 16px;'>下载需要 \"+that.designIntegral+\" 积分</p><p style='padding-top: 10px;'>您当前仅有<span class='num'>\"+integral+\"</span>积分，不足以下载当前刘海壁纸~</p>\"\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: '保存中...'\n\t\t\t\t})\n\t\t\t\tlet query = await uniCloud.callFunction({\n\t\t\t\t\tname: 'place_design',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId: that.vuex_user._id\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tif(!query.result.success){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: query.result.msg,\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthat.getUser()\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true,\n\t\t\t\ttitle: '保存中...'\n\t\t\t})\n\t\t\tuni.getImageInfo({\n\t\t\t\tsrc: that.canvasUrl,\n\t\t\t\tsuccess: function (image) {\n\t\t\t\t\tvar coor = that.imageUtil(image.width,image.height)\n\t\t\t\t\tvar canvasUrl = image.path\n\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\turl: that.designList[that.designCurrent].image,\n\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\tvar designUrl = res.tempFilePath\n\t\t\t\t\t\t\tcontext.drawImage(canvasUrl, coor.x*2, coor.y*2, coor.width*2, coor.height*2)\n\t\t\t\t\t\t\tcontext.drawImage(designUrl, 0, 0, that.w*2, that.w*2)\n\t\t\t\t\t\t\tcontext.draw()\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\t\t\t\t\tfileType: \"jpg\",\n\t\t\t\t\t\t\t\t\tcanvasId: 'firstCanvas',\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\tthat.saveImage(res.tempFilePath)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},300)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tsaveImage(saveUrl){\n\t\t\tvar that = this\n\t\t\t//图片保存到本地相册\n\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: saveUrl,\n\t\t\t\t//授权成功，保存图片\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthat.adShow = true\n\t\t\t\t},\n\t\t\t\t//授权失败\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tif (err.errMsg) {\n\t\t\t\t\t\t//重新授权弹框确认\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '无权限，请打开下载权限后再试！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t//重新授权弹框用户点击了确定\n\t\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\t\t//进入小程序授权设置页面\n\t\t\t\t\t\t\t\t\t\tsuccess(settingdata) {\n\t\t\t\t\t\t\t\t\t\t\tif (settingdata.authSetting['scope.writePhotosAlbum']) {\n\t\t\t\t\t\t\t\t\t\t\t\t//用户打开了保存图片授权开关\n\t\t\t\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: that.saveUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.adShow = true\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t//用户未打开保存图片到相册的授权开关\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '授权失败，请稍后重新获取',\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tadClick(){\n\t\t\tif (videoAd) {\n\t\t\t\tvideoAd.show().catch(err => {\n\t\t\t\t// 失败重试\n\t\t\t\t// console.log(\"广告拉去失败\")\n\t\t\t\tvideoAd.load().then(() => videoAd.show())\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tadLoad(){\n\t\t\tvar that = this\n\t\t\tif (wx.createRewardedVideoAd) {\n\t\t\t\t// 加载激励视频广告\n\t\t\t\t// #ifdef MP-QQ\n\t\t\t\tvideoAd = wx.createRewardedVideoAd({\n\t\t\t\t\tadUnitId: \"cbe2baa6cdb9b4f2c75269d000476ee6\"\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tvideoAd = wx.createRewardedVideoAd({\n\t\t\t\t\tadUnitId: \"adunit-8b7aecba30b3f324\"\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t\t//捕捉错误\n\t\t\t\tvideoAd.onError(err => {\n\t\t\t\t\t// 进行适当的提示\n\t\t\t\t\tconsole.log('videoAd onError', res);\n\t\t\t\t});\n\t\t\t\t// 监听关闭\n\t\t\t\tvideoAd.onClose(status => {\n\t\t\t\t\tthat.designShow = false\n\t\t\t\t\tif ((status && status.isEnded) || status === undefined) {\n\t\t\t\t\t\t// 正常播放结束，下发奖励\n\t\t\t\t\t\tif(that.vuex_user){\n\t\t\t\t\t\t\tthat.userIntegral()\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 播放中途退出，进行提示\n\t\t\t\t\t\tconsole.log('中途退出')\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tasync userIntegral(){\n\t\t\tvar that = this\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true,\n\t\t\t\ttitle: '正在拼命加载中...'\n\t\t\t})\n\t\t\tlet data = await uniCloud.callFunction({\n\t\t\t\tname: 'user_integral',\n\t\t\t\tdata: {\n\t\t\t\t\tuserId: that.vuex_user._id\n\t\t\t\t},\n\t\t\t})\n\t\t\tuni.hideLoading()\n\t\t\tif(data.result.success){\n\t\t\t\tthat.getUser()\n\t\t\t\tthat.signTitle = \"<p style='font-weight: 550;font-size: 16px;'>观看成功</p><p style='padding-top: 10px;'>获得<span class='num'>\"+data.result.integral+\"</span>积分</p>\"\n\t\t\t\tthat.signShow = true\n\t\t\t}\n\t\t},\n\t\tasync getUser(){\n\t\t\tlet that = this\n\t\t\tlet detail = await uniCloud.callFunction({\n\t\t\t\tname: 'query_map',\n\t\t\t\tdata: {\n\t\t\t\t\tdbName: \"wx_user\",\n\t\t\t\t\tid: that.vuex_user._id\n\t\t\t\t},\n\t\t\t})\n\t\t\tthat.$u.vuex('vuex_user', detail.result)\n\t\t},\n\t\tbackClick(){\n\t\t\tuni.navigateBack()\n\t\t},\n\t\tviewCont(){\n\t\t\tlet that = this\n\t\t\tthat.viewShow = !that.viewShow\n\t\t},\n\t\timageUtil(w,h) {\n\t\t\tlet that = this\n\t\t\tvar imageWidth = 0\n\t\t\tvar imageHeight = 0\n\t\t\tvar coor = {},x = 0,y = 0\n\t\t\tvar originalScale = h/w;//图片高宽比\n\t\t\t//获取屏幕宽高\n\t\t\tvar windowscale = that.h/that.w;//屏幕高宽比\n\t\t\tif(originalScale < windowscale){//图片高宽比小于屏幕高宽比\n\t\t\t\t//图片缩放后的宽为屏幕宽\n\t\t\t\timageHeight = that.h;\n\t\t\t\timageWidth = (that.h * w) / h;\n\t\t\t}else{//图片高宽比大于屏幕高宽比\n\t\t\t\t//图片缩放后的高为屏幕高\n\t\t\t\timageWidth = that.w;\n\t\t\t\timageHeight = (that.w * h) / w;\n\t\t\t}\n\t\t\tif(imageWidth > that.w){\n\t\t\t\tx = (imageWidth - that.w) / 2\n\t\t\t\tx = 0-x\n\t\t\t\ty = 0\n\t\t\t}else{\n\t\t\t\ty = (imageHeight - that.h) / 2\n\t\t\t\ty = 0-y\n\t\t\t\tx = 0\n\t\t\t}\n\t\t\tcoor.x = x\n\t\t\tcoor.y = y\n\t\t\tcoor.width = imageWidth\n\t\t\tcoor.height = imageHeight\n\t\t\treturn coor;\n\t\t}\n\t},\n\tonShareAppMessage(res) {\n\t\tvar that = this\n\t\tthat.adShow = false\n\t\treturn {\n\t\t\ttitle: '快来看看我设计的刘海壁纸~',\n\t\t\tpath: '/pages/find/find?userId='+that.vuex_user._id\n\t\t}\n\t},\n\tonShareTimeline(res) {\n\t\treturn {\n\t\t\ttitle: '我等风也等你，近听水无声~',\n\t\t\tpath: '/pages/index/index'\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.canvas {\n\tposition: absolute;\n\ttop: -20000rpx;\n\tleft: -10000rpx;\n}\n.mould {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tmin-height: 150rpx;\n\twidth: 100%;\n\tbackground-color: rgba(73, 69, 84, 0.3);\n}\n.tab {\n\tposition: relative;\n\twidth: 116rpx;\n\theight: 116rpx;\n\tborder-radius: 16rpx;\n\tbackground-color: #ffffff;\n\tpadding: 10rpx;\n\tmargin-right: 20rpx;\n\timage {\n\t\twidth: 78rpx;\n\t\theight: 78rpx;\n\t\tborder: 6rpx solid #000000;\n\t\tborder-radius: 16rpx;\n\t\tdisplay: block;\n\t}\n\tborder: 4rpx solid #ffffff;\n}\n.tab_active {\n\tborder: 4rpx solid #ffcc13;\n}\n.handle {\n\tposition: fixed;\n\tbottom: 150rpx;\n\tleft: 0;\n\twidth: calc(100% - 40rpx);\n\tmin-height: 120rpx;\n\tcolor: #ffffff;\n}\n.shoufei{\n\tposition: absolute;\n\ttop: 2px;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tfont-size: 8px;\n\tfont-weight: 700;\n\tcolor: #ffc001;\n}\n</style>\n","import mod from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./design.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./design.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640887280715\n      var cssReload = require(\"D:/devTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}