{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/detail/detail.vue?f331","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/detail/detail.vue?8a9f","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/detail/detail.vue?6a72","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/detail/detail.vue?c96d","uni-app:///pages/detail/detail.vue","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/detail/detail.vue?3a97","webpack:///C:/Users/ttxxl/Desktop/资源分享/2021最新UI云开发壁纸小程序源码/wallpaper/pages/detail/detail.vue?9e54"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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DA;AACA;AACA,iBAFA,EAEA,IAFA,EApDA;AAuDA,KApXA;AAqXA,YArXA,sBAqXA;AACA;AACA,KAvXA;AAwXA,gBAxXA,wBAwXA,CAxXA,EAwXA;AACA;AACA,KA1XA;AA2XA,WA3XA,mBA2XA,EA3XA,EA2XA;AACA;AACA,sCADA;AAEA;AACA,iCADA,EAFA,GADA,SACA,MADA;;;AAOA,KAlYA;AAmYA,WAnYA,qBAmYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA,KAhZA;AAiZA,UAjZA,oBAiZA;AACA;AACA;AACA;;;;;;;AAOA;AACA,6CADA;;;AAIA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA,MAKA;AACA;AACA;AACA;AACA,SAXA;AAYA;AACA,KAlbA;AAmbA,gBAnbA,0BAmbA;AACA,oBADA,GACA,OADA;AAEA;AACA,4BADA;AAEA,qCAFA,IAFA;;AAMA;AACA,yCADA;AAEA;AACA,gDADA,EAFA,GANA,SAMA,IANA;;;AAYA;AACA;AACA;AACA;AACA;AACA,sCADA,GACA,eAFA;AAGA;AACA,iBAnBA;AAoBA,KAvcA;AAwcA,WAxcA,qBAwcA;AACA,oBADA,GACA,OADA;AAEA;AACA,qCADA;AAEA;AACA,uCADA;AAEA,4CAFA,EAFA,GAFA,SAEA,MAFA;;;AASA,yDATA;AAUA,KAldA;;;AAqdA;AACA,eAtdA,yBAsdA;AACA;;AAEA;AACA,yBADA,EACA;AACA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA,4CAFA,CAEA;AACA,+CAHA,CAGA;AACA;AACA,SAPA;AAQA,YARA,kBAQA;AACA;AACA,SAVA;;;;;;;;;;;;;;;;;AA2BA,KApfA;AAqfA;AACA,WAtfA,qBAsfA;AACA,oBADA,GACA,OADA;AAEA;AACA,iCADA;;AAGA;AACA,oCADA;AAEA;AACA;AACA;AACA,mBALA,IALA;;;AAaA,KAngBA;AAogBA;AACA,cArgBA,sBAqgBA,MArgBA,EAqgBA;AACA,oBADA,GACA,OADA;;AAGA,sBAHA,GAGA,4BAHA;;;;AAOA,8BAPA;;;;;;AAaA;AACA,0CADA;AAEA;AACA,qCADA;AAEA,yCAFA;AAGA,oCAHA;AAIA,kCAJA;AAKA,oCALA,EAFA,GAbA,SAaA,SAbA;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,8BAFA;AAGA,iCAHA;AAIA,kCAJA;;AAMA;AACA,iBAZA,MAYA;AACA;AACA,gCADA;AAEA,8BAFA;AAGA,+CAHA;AAIA,kCAJA;;AAMA;AACA,uCA3CA;AA4CA,KAjjBA,EA7DA;;AAgnBA,mBAhnBA,6BAgnBA,GAhnBA,EAgnBA;AACA;AACA;AACA;AACA,KAFA,EAEA,IAFA;AAGA;AACA,2BADA;AAEA,yDAFA;AAGA;AACA,2BADA,CAHA;;AAMA,GA3nBA;AA4nBA,iBA5nBA,2BA4nBA,GA5nBA,EA4nBA;AACA;;AAEA,8BAFA;AAGA,gCAHA;AAIA;AACA,8HALA;;AAOA,GApoBA,E;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAquC,CAAgB,ksCAAG,EAAC,C;;;;;;;;;;;ACAzvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=3e159eb4&\"","var components\ntry {\n  components = {\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      $event.preventDefault()\n      _vm.a = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.a = false\n    }\n\n    _vm.e2 = function($event) {\n      _vm.loginShow = false\n    }\n\n    _vm.e3 = function($event) {\n      _vm.downShow = false\n    }\n\n    _vm.e4 = function($event) {\n      _vm.signShow = false\n    }\n\n    _vm.e5 = function($event) {\n      _vm.adShow = false\n    }\n\n    _vm.e6 = function($event) {\n      _vm.adShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"\">\n\t\t<view class=\"\" @touchmove.stop.prevent=\"a = false\" @catchtouchmove=\"a = false\" v-show=\"!loadFlag\">\n\t\t\t<view class=\"\" style=\"\">\n\t\t\t\t<swiper style=\"height: 100vh;width: 100vw;\" :circular=\"true\" @change=\"swiperChange\"\n\t\t\t\t\t:current=\"activeCurrent\">\n\t\t\t\t\t<swiper-item v-for=\"(item,index) in detail.images\" :key=\"index\">\n\t\t\t\t\t\t<image :src=\"vuex_compressPicture?item + '?x-oss-process=image/quality,q_80':item\" @click=\"cssClick\" style=\"height: 100vh;width: 100vw;display: flex;\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"></image>\n\t\t\t\t\t</swiper-item>\n\t\t\t\t</swiper>\n\t\t\t</view>\n\t\t\t<view class=\"date-container\">\n\t\t\t\t<text class=\"time\">{{time}}</text>\n\t\t\t\t<text class=\"date\">{{date}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"bottom\" :class=\"cssTran ? 'closeCss' : 'openCss'\" v-if=\"!loadFlag\">\n\t\t\t\t<view class=\"num\">{{indexCurrent}} / {{detail.images.length}}</view>\n\t\t\t\t<view class=\"nav-box\">\n\t\t\t\t\t<view class=\"nav-tab\" @click=\"backClick\">\n\t\t\t\t\t\t<u-icon name=\"/static/icon/back.png\" :size=\"44\"></u-icon>\n\t\t\t\t\t\t<text>返回</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"nav-tab\" @click=\"collectClick()\">\n\t\t\t\t\t\t<u-icon :name=\"isColl?'/static/icon/coll_art.png':'/static/icon/coll.png'\" :size=\"40\"></u-icon>\n\t\t\t\t\t\t<text>{{isColl?'已收藏':'收藏'}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"nav-tab\" @click=\"winClick(detail._id)\">\n\t\t\t\t\t\t<u-icon name=\"/static/icon/duihuan.png\" :size=\"42\"></u-icon>\n\t\t\t\t\t\t<text>下载</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"nav-tab\" @click=\"zanClick(isZan)\">\n\t\t\t\t\t\t<u-icon :name=\"isZan?'/static/icon/zan_art.png':'/static/icon/zan.png'\" :size=\"isZan?48:42\"></u-icon>\n\t\t\t\t\t\t<text>{{isZan?'已点赞':'点赞'}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"nav-tab\">\n\t\t\t\t\t\t<u-icon name=\"/static/icon/shares.png\" :size=\"44\"></u-icon>\n\t\t\t\t\t\t<text>分享</text>\n\t\t\t\t\t\t<button open-type=\"share\" style=\"position: absolute;top: 0;left: 0;width: 100%;height: 100%;opacity: 0;\"></button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- <view v-if=\"tipsShow\" style=\"position: absolute;top: 0;left: 0;width: 100vw;height: 100vh;z-index: 11;\" @click=\"tipsClick\">\n\t\t\t\t<image src=\"../../static/tips.png\" style=\"width: 100%;height: 100%;display: flex;\" mode=\"aspectFill\"></image>\n\t\t\t</view> -->\n\t\t\t\n\t\t\t<models v-if=\"loginShow\" title=\"为了更好体验，快去授权登录吧\" btnText=\"授权登录\" @getUserInfo=\"getUserInfo\" @close=\"loginShow = false\"></models>\n\t\t\t\n\t\t\t<models v-if=\"downShow\" :title=\"downTitle\" :btnText=\"'看广告领 '+adIntegral+' 积分'\" :authorize=\"false\" @close=\"downShow = false\" @save=\"adClick\"></models>\n\t\t\n\t\t\t<models v-if=\"signShow\"\n\t\t\t:authorize=\"false\" \n\t\t\t:title=\"signTitle\"\n\t\t\tbtnText=\"知道了\" \n\t\t\tcloseText=\" \" \n\t\t\t@save=\"signShow = false\"></models>\n\t\t\t\n\t\t\t<models v-show=\"adShow\"\n\t\t\t:authorize=\"false\" \n\t\t\t:ad=\"true\" \n\t\t\ttitle=\"已成功保存到相册，别忘了分享给朋友哦！\"\n\t\t\tbtnText=\"分享给好友\" \n\t\t\tcloseText=\"暂时不用\" \n\t\t\t@save=\"adShow = false\"\n\t\t\t@close=\"adShow = false\"></models>\n\t\t</view>\n\t\t<view class=\"loading_page\" v-show=\"loadFlag\"><image src=\"/static/loading/loading.gif\"></image></view>\n\t</view>\n</template>\n\n<script>\n\tlet videoAd = null;\n\tvar w = uni.getSystemInfoSync().windowWidth;\n\tvar h = uni.getSystemInfoSync().windowHeight;\n\timport models from '@/components/model/model.vue'\n\texport default {\n\t\tcomponents: {\n\t\t\tmodels\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloadFlag: true,\n\t\t\t\tloginShow: false,\n\t\t\t\tdetail: {},\n\t\t\t\ttime: '',\n\t\t\t\tdate: '',\n\n\t\t\t\tadIntegral: 0,\n\n\t\t\t\tdownShow: false,\n\t\t\t\tdownIntegral: 0,\n\t\t\t\tdownTitle: '',\n\t\t\t\tdownBtn: '',\n\t\t\t\tadShow: false,\n\n\t\t\t\tisColl: false,\n\t\t\t\tisZan: false,\n\t\t\t\tzanStatus: true,\n\t\t\t\tcollStatus: true,\n\n\t\t\t\tcssTran: false,\n\t\t\t\tindexCurrent: 1,\n\t\t\t\tactiveCurrent: 0,\n\n\t\t\t\tsignShow: false,\n\t\t\t\tsignTitle: '',\n\t\t\t\tw: w,\n\t\t\t\th: h,\n\t\t\t}\n\t\t},\n\t\tasync onLoad({\n\t\t\tid,\n\t\t\tindex,\n\t\t\timages\n\t\t}) {\n\t\t\tvar that = this\n\t\t\tawait that.getDate()\n\t\t\tthat.indexCurrent = parseInt(index) + 1\n\t\t\tthat.activeCurrent = parseInt(index)\n\t\t\tif (images) {\n\t\t\t\tthat.detail.images = JSON.parse(images)\n\t\t\t\tthat.detail._id = id\n\t\t\t\tawait that.addView(id)\n\t\t\t} else {\n\t\t\t\tawait that.getDetail(id)\n\t\t\t}\n\t\t\t\n\t\t\tawait that.getConfig()\n\t\t\tif (that.vuex_user) {\n\t\t\t\tthat.getIsZan()\n\t\t\t\tthat.getIsColl()\n\t\t\t\tthat.getUser()\n\t\t\t}\n\t\t\tthat.adLoad()\n\t\t\tthat.loadFlag = false\n\t\t},\n\t\tmethods: {\n\t\t\tasync getDate(){\n\t\t\t\tvar t = new Date(),\n\t\t\t\t\te = (t.getFullYear(), t.getMonth() + 1),\n\t\t\t\t\to = t.getDate(),\n\t\t\t\t\ta = t.getHours(),\n\t\t\t\t\tn = t.getMinutes(),\n\t\t\t\t\ti = (t.getSeconds(), e + \"月\" + o + \"日\"),\n\t\t\t\t\ts = [a, n].map(this.formatNumber).join(\":\");\n\t\t\t\tconsole.log(i), console.log(s), this.setData({\n\t\t\t\t\tdate: i,\n\t\t\t\t\ttime: s\n\t\t\t\t});\n\t\t\t},\n\t\t\tformatNumber: function(t) {\n\t\t\t\treturn (t = t.toString())[1] ? t : \"0\" + t;\n\t\t\t},\n\t\t\tasync getDetail(id) {\n\t\t\t\tvar that = this\n\t\t\t\tlet detail = await uniCloud.callFunction({\n\t\t\t\t\tname: 'query_map',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdbName: that.vuex_isShenHe?\"wx_cover_shenhe\":\"wx_cover\",\n\t\t\t\t\t\tid: id\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tthat.detail = detail.result\n\t\t\t\tif (!that.detail) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '壁纸不存在',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}, 1500)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthat.addView(id)\n\t\t\t},\n\t\t\tasync getConfig() {\n\t\t\t\tlet that = this\n\t\t\t\tlet config = await uniCloud.callFunction({\n\t\t\t\t\tname: 'config_map',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'keys': ['downIntegral', 'adIntegral']\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tif (config.result.success) {\n\t\t\t\t\tthat.downIntegral = parseInt(config.result.data[0])\n\t\t\t\t\tthat.adIntegral = parseInt(config.result.data[1])\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync getIsZan() {\n\t\t\t\tvar that = this \n\t\t\t\tlet count = await uniCloud.callFunction({\n\t\t\t\t\tname: 'query_count',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdbName: that.vuex_isShenHe?\"wx_cover_shenhe\":\"wx_cover\",\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\"_id\": that.detail._id,\n\t\t\t\t\t\t\t\"zan.user_id\": that.vuex_user._id\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tthat.zanStatus = false\n\t\t\t\tif (count.result > 0) that.isZan = true\n\t\t\t},\n\t\t\tasync getIsColl() {\n\t\t\t\tvar that = this \n\t\t\t\tlet count = await uniCloud.callFunction({\n\t\t\t\t\tname: 'query_count',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdbName: that.vuex_isShenHe?\"wx_cover_shenhe\":\"wx_cover\",\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\"_id\": that.detail._id,\n\t\t\t\t\t\t\t\"coll.user_id\": that.vuex_user._id\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tthat.collStatus = false\n\t\t\t\tif (count.result > 0) that.isColl = true\n\t\t\t},\n\t\t\tasync winClick() {\n\t\t\t\tvar that = this\n\t\t\t\tif (!that.vuex_user) {\n\t\t\t\t\tthat.loginShow = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (that.downIntegral > 0) {\n\t\t\t\t\tvar integral = that.vuex_user.integral\n\t\t\t\t\tif (integral < that.downIntegral) {\n\t\t\t\t\t\tthat.downShow = true\n\t\t\t\t\t\tthat.downTitle = \"<p style='font-weight: 550;font-size: 16px;'>下载需要 \" + that.downIntegral +\n\t\t\t\t\t\t\t\" 积分</p><p style='padding-top: 10px;'>您当前仅有<span class='num'>\" + integral +\n\t\t\t\t\t\t\t\"</span>积分，无法下载当前作品，快去赚积分吧~</p>\"\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\ttitle: '保存中...'\n\t\t\t\t\t})\n\n\t\t\t\t\tlet query = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'place_order',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tuserId: that.vuex_user._id,\n\t\t\t\t\t\t\tcoverId: that.detail._id,\n\t\t\t\t\t\t\tintegral: that.downIntegral,\n\t\t\t\t\t\t\tindex: that.indexCurrent - 1\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log('query',query)\n\t\t\t\t\tif (query.result.success) {\n\t\t\t\t\t\t// 下载成功 请求用户积分\n\t\t\t\t\t\tthat.getUser()\n\t\t\t\t\t\t// 获取图片信息\n\t\t\t\t\t\tvar url = that.detail.images[that.indexCurrent - 1]\n\t\t\t\t\t\tvar extension = url.substring(url.lastIndexOf('.') + 1)\n\t\t\t\t\t\tlet fileName = new Date().valueOf();\n\n\t\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tfilePath: wx.env.USER_DATA_PATH + '/' + fileName + '.' + extension,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tvar benUrl = res.filePath\n\t\t\t\t\t\t\t\t//图片保存到本地相册\n\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\tfilePath: benUrl,\n\t\t\t\t\t\t\t\t\t//授权成功，保存图片\n\t\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\tthat.adShow = true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t//授权失败\n\t\t\t\t\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\t\t\t\t\tif (err.errMsg) {\n\t\t\t\t\t\t\t\t\t\t\t//重新授权弹框确认\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '无权限，请打开下载权限后再试！',\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//重新授权弹框用户点击了确定\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//进入小程序授权设置页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettingdata) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (settingdata\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.authSetting[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'scope.writePhotosAlbum'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//用户打开了保存图片授权开关\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: benUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.adShow =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//用户未打开保存图片到相册的授权开关\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '授权失败，请稍后重新获取',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (error) => {\n\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: query.result.msg,\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 获取图片信息\n\t\t\t\t\tvar url = that.detail.images[that.indexCurrent - 1]\n\t\t\t\t\tvar extension = url.substring(url.lastIndexOf('.') + 1)\n\t\t\t\t\tlet fileName = new Date().valueOf();\n\n\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tfilePath: wx.env.USER_DATA_PATH + '/' + fileName + '.' + extension,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tvar benUrl = res.filePath\n\t\t\t\t\t\t\t//图片保存到本地相册\n\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\tfilePath: benUrl,\n\t\t\t\t\t\t\t\t//授权成功，保存图片\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\tthat.adShow = true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t//授权失败\n\t\t\t\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\t\t\t\tif (err.errMsg) {\n\t\t\t\t\t\t\t\t\t\t//重新授权弹框确认\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\t\t\tcontent: '无权限，请打开下载权限后再试！',\n\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//重新授权弹框用户点击了确定\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//进入小程序授权设置页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess(settingdata) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (settingdata\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.authSetting[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'scope.writePhotosAlbum'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//用户打开了保存图片授权开关\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: benUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.adShow =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//用户未打开保存图片到相册的授权开关\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '授权失败，请稍后重新获取',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (error) => {\n\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tbackClick() {\n\t\t\t\tuni.navigateBack()\n\t\t\t},\n\t\t\tasync collectClick() {\n\t\t\t\tvar that = this\n\t\t\t\tif (!that.vuex_user) {\n\t\t\t\t\tthat.loginShow = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (that.collStatus) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '太快啦，歇一会再试试',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthat.collStatus = true\n\t\t\t\t// 先显示  再请求 视觉上更适应\n\t\t\t\tthat.isColl = !that.isColl\n\n\t\t\t\tlet coll = await uniCloud.callFunction({\n\t\t\t\t\tname: 'zan_and_coll',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdbName: that.vuex_isShenHe?\"wx_cover_shenhe\":\"wx_cover\",\n\t\t\t\t\t\ttype: 'coll',\n\t\t\t\t\t\tuserId: that.vuex_user._id,\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\"_id\": that.detail._id,\n\t\t\t\t\t\t\t\"coll.user_id\": that.vuex_user._id\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tif (!coll.result.success) {\n\t\t\t\t\t// 更新失败\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: coll.result.msg,\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t\tthat.isColl = !that.isColl\n\t\t\t\t}\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat.collStatus = false\n\t\t\t\t}, 5000)\n\t\t\t},\n\t\t\tasync zanClick(zan) {\n\t\t\t\tvar that = this\n\t\t\t\tif (!that.vuex_user) {\n\t\t\t\t\tthat.loginShow = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tvar timestamp = new Date().getTime()\n\t\t\t\tif (zan) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '你已经点过赞啦~',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tif (that.zanStatus) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '太快啦，歇一会再试试',\n\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthat.zanStatus = true\n\t\t\t\t\t// 先显示  再请求 视觉上更适应\n\t\t\t\t\tthat.isZan = !that.isZan\n\n\t\t\t\t\tlet zan = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'zan_and_coll',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tdbName: that.vuex_isShenHe?\"wx_cover_shenhe\":\"wx_cover\",\n\t\t\t\t\t\t\ttype: 'zan',\n\t\t\t\t\t\t\tuserId: that.vuex_user._id,\n\t\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\t\"_id\": that.detail._id,\n\t\t\t\t\t\t\t\t\"zan.user_id\": that.vuex_user._id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\tif (!zan.result.success) {\n\t\t\t\t\t\t// 更新失败\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: zan.result.msg,\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.isZan = !that.isZan\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat.zanStatus = false\n\t\t\t\t}, 5000)\n\t\t\t},\n\t\t\tcssClick() {\n\t\t\t\tthis.cssTran = !this.cssTran\n\t\t\t},\n\t\t\tswiperChange(e) {\n\t\t\t\tthis.indexCurrent = e.detail.current + 1\n\t\t\t},\n\t\t\tasync addView(id) {\n\t\t\t\tlet result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'view_raise',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcoverId: id\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tadClick() {\n\t\t\t\tvar that = this\n\t\t\t\tif (!that.vuex_user) {\n\t\t\t\t\tthat.loginShow = true\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (videoAd) {\n\t\t\t\t\tvideoAd.show().catch(err => {\n\t\t\t\t\t\t// 失败重试\n\t\t\t\t\t\t// console.log(\"广告拉去失败\")\n\t\t\t\t\t\tvideoAd.load().then(() => videoAd.show())\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\tadLoad(){\n\t\t\tvar that = this\n\t\t\tif (wx.createRewardedVideoAd) {\n\t\t\t\t// 加载激励视频广告\n\t\t\t\t// #ifdef MP-QQ\n\t\t\t\tvideoAd = wx.createRewardedVideoAd({\n\t\t\t\t\tadUnitId: \"{{ qqexcitation }}\"\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tvideoAd = wx.createRewardedVideoAd({\n\t\t\t\t\tadUnitId: \"adunit-8b7aecba30b3f324\"\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t\t//捕捉错误\n\t\t\t\tvideoAd.onError(err => {\n\t\t\t\t\t// 进行适当的提示\n\t\t\t\t\tconsole.log('videoAd onError', res);\n\t\t\t\t});\n\t\t\t\t// 监听关闭\n\t\t\t\tvideoAd.onClose(status => {\n\t\t\t\t\tthat.downShow = false\n\t\t\t\t\tif ((status && status.isEnded) || status === undefined) {\n\t\t\t\t\t\t// 正常播放结束，下发奖励\n\t\t\t\t\t\tif(that.vuex_user){\n\t\t\t\t\t\t\tthat.userIntegral()\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 播放中途退出，进行提示\n\t\t\t\t\t\tconsole.log('中途退出')\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\tasync userIntegral() {\n\t\t\t\tvar that = this\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: '正在拼命加载中...'\n\t\t\t\t})\n\t\t\t\tlet data = await uniCloud.callFunction({\n\t\t\t\t\tname: 'user_integral',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId: that.vuex_user._id\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tuni.hideLoading()\n\t\t\t\tif (data.result.success) {\n\t\t\t\t\tthat.getUser()\n\t\t\t\t\tthat.signTitle =\n\t\t\t\t\t\t\"<p style='font-weight: 550;font-size: 16px;'>观看成功</p><p style='padding-top: 10px;'>获得<span class='num'>\" +\n\t\t\t\t\t\tdata.result.integral + \"</span>积分</p>\"\n\t\t\t\t\tthat.signShow = true\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync getUser() {\n\t\t\t\tlet that = this\n\t\t\t\tlet detail = await uniCloud.callFunction({\n\t\t\t\t\tname: 'query_map',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdbName: \"wx_user\",\n\t\t\t\t\t\tid: that.vuex_user._id\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tthat.$u.vuex('vuex_user', detail.result)\n\t\t\t},\n\n\n\t\t\t// 登录\n\t\t\tgetUserInfo() {\n\t\t\t\tvar that = this\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tuni.getUserProfile({\n\t\t\t\t\tdesc: '个人登录，记录数据', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tthat.name = res.userInfo.nickName; //昵称\n\t\t\t\t\t\tthat.avatar = res.userInfo.avatarUrl; //头像\n\t\t\t\t\t\tthat.wxlogin();\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tconsole.log(\"获取用户信息失败\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP-QQ\n\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t// 获取信息成功\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tthat.name = res.userInfo.nickName; //昵称\n\t\t\t\t\t\tthat.avatar = res.userInfo.avatarUrl; //头像\n\t\t\t\t\t\tthat.wxlogin();\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tconsole.log(\"获取用户信息失败\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t//已经授权，自动登录\n\t\t\tasync wxlogin() {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '登录中...'\n\t\t\t\t});\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\t\tlet code = loginRes.code;\n\t\t\t\t\t\tthat.wxloginres(code);\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t},\n\t\t\t//登录后提交服务器获取进一步信息\n\t\t\tasync wxloginres(wxcode) {\n\t\t\t\tlet that = this;\n\n\t\t\t\tvar userId = uni.getStorageSync('userId')\n\n\t\t\t\tvar mptype\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tmptype = 'wx'\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP-QQ\n\t\t\t\tmptype = 'qq'\n\t\t\t\t// #endif\n\n\t\t\t\tlet authorize = await uniCloud.callFunction({\n\t\t\t\t\tname: 'user_authorize',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tname: that.name,\n\t\t\t\t\t\tavatar: that.avatar,\n\t\t\t\t\t\tmptype: mptype,\n\t\t\t\t\t\tcode: wxcode,\n\t\t\t\t\t\tuserId: userId,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tif (authorize.result.success) {\n\t\t\t\t\tthat.$u.vuex('vuex_user', authorize.result.data)\n\t\t\t\t\t// 登陆成功  获取收藏点赞\n\t\t\t\t\tthat.getIsZan()\n\t\t\t\t\tthat.getIsColl()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t})\n\t\t\t\t\tuni.removeStorageSync('userId')\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\ttitle: authorize.result.msg,\n\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthat.loginShow = false\n\t\t\t},\n\t\t},\n\t\tonShareAppMessage(res) {\n\t\t\tvar that = this\n\t\t\tsetTimeout(function() {\n\t\t\t\tthat.adShow = false\n\t\t\t}, 2000)\n\t\t\treturn {\n\t\t\t\ttitle: '送你一张超级好看的壁纸~',\n\t\t\t\timageUrl: that.detail.images[that.indexCurrent - 1],\n\t\t\t\tpath: '/pages/index/index?userId=' + that.vuex_user._id + '&detailId=' + that.detail._id + '&index=' + (\n\t\t\t\t\tthat.indexCurrent - 1)\n\t\t\t}\n\t\t},\n\t\tonShareTimeline(res) {\n\t\t\treturn {\n\t\t\t\t\n\t\t\t\ttitle: '表，我的聊天背景都是在这找的~',\n\t\t\t\tpath: '/pages/index/index',\n\t\t\t\timageUrl:\n\t\t\t\t  \"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-7ed8ec0e-de90-4ed2-8830-c36512ae8fc0/793331ab-9a2a-4236-a7d4-1d19bdff6ae8.png\",\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style lang=\"scss\">\n\t.bottom {\n\t\tposition: fixed;\n\t\tleft: 4%;\n\t\tright: 0;\n\t\twidth: 92%;\n\t\theight: 52px;\n\t\tbox-shadow: 0 0px 8px rgba(0, 0, 0, 0.06);\n\t\tbackground: rgba(0, 0, 0, 0.94);\n\t\tborder-radius: 49px;\n\t\tz-index: 10;\n\t\topacity: 0.8;\n\t\t.num{\n\t\t\tposition: absolute;\n\t\t\ttop: -20rpx;\n\t\t\ttop: -70rpx;\n\t\t\tleft: 44%;\n\t\t\tbackground: rgba(0,0,0,0.6);\n\t\t\tcolor: #FFF;\n\t\t\tpadding: 4rpx 20rpx;\n\t\t\tfont-size: 12px;\n\t\t\tborder-radius: 36px;\n\t\t}\n\t}\n\n\t.nav-tab {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 52px;\n\t\tfont-size: 12px;\n\t\tcolor: #D8D8D8;\n\t\tfont-weight: 400;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\t.nav-box {\n\t\t/* position: absolute; */\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-around;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.openCss {\n\t\tanimation-name: openLinear;\n\t\tanimation-duration: 0.8s;\n\t\tanimation-iteration-count: 1;\n\t\tbottom: 3%;\n\t}\n\n\t@keyframes openLinear {\n\t\t0% {\n\t\t\ttransform: translateY(92px);\n\t\t}\n\t\t100% {\n\t\t\ttransform: translateY(0px);\n\t\t}\n\t}\n\n\t.closeCss {\n\t\tanimation-name: closeLinear;\n\t\tanimation-duration: 0.8s;\n\t\tanimation-iteration-count: 1;\n\t\tbottom: -52px;\n\t}\n\n\t@keyframes closeLinear {\n\t\t0% {\n\t\t\ttransform: translateY(-92px);\n\t\t}\n\t\t100% {\n\t\t\ttransform: translateY(0px);\n\t\t}\n\t}\n\t\n\t.u-indicator-item-number {\n\t\tpadding: 6rpx 16rpx;\n\t\tline-height: 1;\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\n\t\tborder-radius: 100rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t}\n\t.date-container {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tposition: absolute;\n\t\ttop: 150rpx;\n\t\topacity: .9;\n\t}\n\t\n\t.time {\n\t\tfont-size: 120rpx;\n\t\tcolor: #fff;\n\t}\n\t\n\t.date {\n\t\tfont-size: 40rpx;\n\t\tcolor: #fff;\n\t}\n</style>","import mod from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devTools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640887280616\n      var cssReload = require(\"D:/devTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}